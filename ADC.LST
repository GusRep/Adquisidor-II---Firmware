A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     1


MACRO ASSEMBLER A51 V7.04a
OBJECT MODULE PLACED IN ADC.OBJ
ASSEMBLER INVOKED BY: C:\SiLabs\MCU\IDEfiles\C51\BIN\a51.exe ADC.asm XR GEN DB EP NOMOD51

LOC  OBJ            LINE     SOURCE

                       1     $nomod51 
                       2     ;------------------------------------
                       3     ;-  Generated Initialization File  --
                       4     ;------------------------------------
                       5     
                       6     ;$include (C8051F340.INC)
                +1     7     ;------------------------------------------------------------------------------
                +1     8     ; C8051F340.INC
                +1     9     ;------------------------------------------------------------------------------
                +1    10     ; Copyright 2005 Silicon Laboratories, Inc.
                +1    11     ; http://www.silabs.com
                +1    12     ;
                +1    13     ; Program Description:
                +1    14     ;
                +1    15     ; Register/bit definitions for the C8051F34x family.
                +1    16     ;
                +1    17     ;
                +1    18     ; FID:            34X000003
                +1    19     ; Target:         C8051F340, 'F341, 'F342, 'F343, 'F344, 'F345, 'F346, 'F347
                +1    20     ; Tool chain:     Keil
                +1    21     ; Command Line:   None
                +1    22     ;
                +1    23     ; Release 1.0
                +1    24     ;    -Initial Revision (GP\PKC)
                +1    25     ;    -13 DEC 2005
                +1    26     ;
                +1    27     
                +1    28     ;------------------------------------------------------------------------------
                +1    29     ; Byte Registers
                +1    30     ;------------------------------------------------------------------------------
                +1    31     
  0080          +1    32     P0        DATA  080H                   ; Port 0 Latch
  0081          +1    33     SP        DATA  081H                   ; Stack Pointer
  0082          +1    34     DPL       DATA  082H                   ; Data Pointer Low
  0083          +1    35     DPH       DATA  083H                   ; Data Pointer High
  0084          +1    36     EMI0TC    DATA  084H                   ; External Memory Interface Timing
  0085          +1    37     EMI0CF    DATA  085H                   ; External Memory Interface Config
  0086          +1    38     OSCLCN    DATA  086H                   ; Internal Low-Freq Oscillator Control
  0087          +1    39     PCON      DATA  087H                   ; Power Control
  0088          +1    40     TCON      DATA  088H                   ; Timer/Counter Control
  0089          +1    41     TMOD      DATA  089H                   ; Timer/Counter Mode
  008A          +1    42     TL0       DATA  08AH                   ; Timer/Counter 0 Low
  008B          +1    43     TL1       DATA  08BH                   ; Timer/Counter 1 Low
  008C          +1    44     TH0       DATA  08CH                   ; Timer/Counter 0 High
  008D          +1    45     TH1       DATA  08DH                   ; Timer/Counter 1 High
  008E          +1    46     CKCON     DATA  08EH                   ; Clock Control
  008F          +1    47     PSCTL     DATA  08FH                   ; Program Store R/W Control
  0090          +1    48     P1        DATA  090H                   ; Port 1 Latch
  0091          +1    49     TMR3CN    DATA  091H                   ; Timer/Counter 3Control
  0092          +1    50     TMR3RLL   DATA  092H                   ; Timer/Counter 3 Reload Low
  0093          +1    51     TMR3RLH   DATA  093H                   ; Timer/Counter 3 Reload High
  0094          +1    52     TMR3L     DATA  094H                   ; Timer/Counter 3Low
  0095          +1    53     TMR3H     DATA  095H                   ; Timer/Counter 3 High
  0096          +1    54     USB0ADR   DATA  096H                   ; USB0 Indirect Address Register
  0097          +1    55     USB0DAT   DATA  097H                   ; USB0 Data Register
  0098          +1    56     SCON0     DATA  098H                   ; UART0 Control
  0099          +1    57     SBUF0     DATA  099H                   ; UART0 Data Buffer
  009A          +1    58     CPT1CN    DATA  09AH                   ; Comparator1 Control
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     2

  009B          +1    59     CPT0CN    DATA  09BH                   ; Comparator0 Control
  009C          +1    60     CPT1MD    DATA  09CH                   ; Comparator1 Mode Selection
  009D          +1    61     CPT0MD    DATA  09DH                   ; Comparator0 Mode Selection
  009E          +1    62     CPT1MX    DATA  09EH                   ; Comparator1 MUX Selection
  009F          +1    63     CPT0MX    DATA  09FH                   ; Comparator0 MUX Selection
  00A0          +1    64     P2        DATA  0A0H                   ; Port 2 Latch
  00A1          +1    65     SPI0CFG   DATA  0A1H                   ; SPI Configuration
  00A2          +1    66     SPI0CKR   DATA  0A2H                   ; SPI Clock Rate Control
  00A3          +1    67     SPI0DAT   DATA  0A3H                   ; SPI Data
  00A4          +1    68     P0MDOUT   DATA  0A4H                   ; Port 0 Output Mode Configuration
  00A5          +1    69     P1MDOUT   DATA  0A5H                   ; Port 1 Output Mode Configuration
  00A6          +1    70     P2MDOUT   DATA  0A6H                   ; Port 2 Output Mode Configuration
  00A7          +1    71     P3MDOUT   DATA  0A7H                   ; Port 3 Output Mode Configuration
  00A8          +1    72     IE        DATA  0A8H                   ; Interrupt Enable
  00A9          +1    73     CLKSEL    DATA  0A9H                   ; Clock Select
  00AA          +1    74     EMI0CN    DATA  0AAH                   ; External Memory Interface Control
  00AC          +1    75     SBCON1    DATA  0ACH                   ; UART1 Baud Rate Generator Control
  00AE          +1    76     P4MDOUT   DATA  0AEH                   ; Port 4 Output Mode Configuration
  00AF          +1    77     PFE0CN    DATA  0AFH                   ; Prefetch Engine Control
  00B0          +1    78     P3        DATA  0B0H                   ; Port 3 Latch
  00B1          +1    79     OSCXCN    DATA  0B1H                   ; External Oscillator Control
  00B2          +1    80     OSCICN    DATA  0B2H                   ; Internal Oscillator Control
  00B3          +1    81     OSCICL    DATA  0B3H                   ; Internal Oscillator Calibration
  00B4          +1    82     SBRLL1    DATA  0B4H                   ; UART1 Baud Rate Generator Low
  00B5          +1    83     SBRLH1    DATA  0B5H                   ; UART1 Baud Rate Generator High
  00B6          +1    84     FLSCL     DATA  0B6H                   ; Flash Scale
  00B7          +1    85     FLKEY     DATA  0B7H                   ; Flash Lock and Key
  00B8          +1    86     IP        DATA  0B8H                   ; Interrupt Priority
  00B9          +1    87     CLKMUL    DATA  0B9H                   ; Clock Multiplier
  00BA          +1    88     AMX0N     DATA  0BAH                   ; AMUX0 Negative Channel Select
  00BB          +1    89     AMX0P     DATA  0BBH                   ; AMUX0 Positive Channel Select
  00BC          +1    90     ADC0CF    DATA  0BCH                   ; ADC0 Configuration
  00BD          +1    91     ADC0L     DATA  0BDH                   ; ADC0 Low
  00BE          +1    92     ADC0H     DATA  0BEH                   ; ADC0 High
  00C0          +1    93     SMB0CN    DATA  0C0H                   ; SMBus Control
  00C1          +1    94     SMB0CF    DATA  0C1H                   ; SMBus Configuration
  00C2          +1    95     SMB0DAT   DATA  0C2H                   ; SMBus Data
  00C3          +1    96     ADC0GTL   DATA  0C3H                   ; ADC0 Greater-Than Compare Low
  00C4          +1    97     ADC0GTH   DATA  0C4H                   ; ADC0 Greater-Than Compare High
  00C5          +1    98     ADC0LTL   DATA  0C5H                   ; ADC0 Less-Than Compare Word Low
  00C6          +1    99     ADC0LTH   DATA  0C6H                   ; ADC0 Less-Than Compare Word High
  00C7          +1   100     P4        DATA  0C7H                   ; Port 4 Latch
  00C8          +1   101     TMR2CN    DATA  0C8H                   ; Timer/Counter 2 Control
  00C9          +1   102     REG0CN    DATA  0C9H                   ; Voltage Regulator Control
  00CA          +1   103     TMR2RLL   DATA  0CAH                   ; Timer/Counter 2 Reload Low
  00CB          +1   104     TMR2RLH   DATA  0CBH                   ; Timer/Counter 2 Reload High
  00CC          +1   105     TMR2L     DATA  0CCH                   ; Timer/Counter 2 Low
  00CD          +1   106     TMR2H     DATA  0CDH                   ; Timer/Counter 2 High
  00D0          +1   107     PSW       DATA  0D0H                   ; Program Status Word
  00D1          +1   108     REF0CN    DATA  0D1H                   ; Voltage Reference Control
  00D2          +1   109     SCON1     DATA  0D2H                   ; UART1 Control
  00D3          +1   110     SBUF1     DATA  0D3H                   ; UART1 Data Buffer
  00D4          +1   111     P0SKIP    DATA  0D4H                   ; Port 0 Skip
  00D5          +1   112     P1SKIP    DATA  0D5H                   ; Port 1 Skip
  00D6          +1   113     P2SKIP    DATA  0D6H                   ; Port 2 Skip
  00D7          +1   114     USB0XCN   DATA  0D7H                   ; USB0 Transceiver Control
  00D8          +1   115     PCA0CN    DATA  0D8H                   ; PCA Control
  00D9          +1   116     PCA0MD    DATA  0D9H                   ; PCA Mode
  00DA          +1   117     PCA0CPM0  DATA  0DAH                   ; PCA Module 0 Mode Register
  00DB          +1   118     PCA0CPM1  DATA  0DBH                   ; PCA Module 1 Mode Register
  00DC          +1   119     PCA0CPM2  DATA  0DCH                   ; PCA Module 2 Mode Register
  00DD          +1   120     PCA0CPM3  DATA  0DDH                   ; PCA Module 3 Mode Register
  00DE          +1   121     PCA0CPM4  DATA  0DEH                   ; PCA Module 4 Mode Register
  00DF          +1   122     P3SKIP    DATA  0DFH                   ; Port 3Skip
  00E0          +1   123     ACC       DATA  0E0H                   ; Accumulator
  00E1          +1   124     XBR0      DATA  0E1H                   ; Port I/O Crossbar Control 0
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     3

  00E2          +1   125     XBR1      DATA  0E2H                   ; Port I/O Crossbar Control 1
  00E3          +1   126     XBR2      DATA  0E3H                   ; Port I/O Crossbar Control 2
  00E4          +1   127     IT01CF    DATA  0E4H                   ; INT0/INT1 Configuration
  00E5          +1   128     SMOD1     DATA  0E5H                   ; UART1 Mode
  00E6          +1   129     EIE1      DATA  0E6H                   ; Extended Interrupt Enable 1
  00E7          +1   130     EIE2      DATA  0E7H                   ; Extended Interrupt Enable 2
  00E8          +1   131     ADC0CN    DATA  0E8H                   ; ADC0 Control
  00E9          +1   132     PCA0CPL1  DATA  0E9H                   ; PCA Capture 1 Low
  00EA          +1   133     PCA0CPH1  DATA  0EAH                   ; PCA Capture 1 High
  00EB          +1   134     PCA0CPL2  DATA  0EBH                   ; PCA Capture 2 Low
  00EC          +1   135     PCA0CPH2  DATA  0ECH                   ; PCA Capture 2 High
  00ED          +1   136     PCA0CPL3  DATA  0EDH                   ; PCA Capture 3 Low
  00EE          +1   137     PCA0CPH3  DATA  0EEH                   ; PCA Capture 3High
  00EF          +1   138     RSTSRC    DATA  0EFH                   ; Reset Source Configuration/Status
  00F0          +1   139     B         DATA  0F0H                   ; B Register
  00F1          +1   140     P0MDIN    DATA  0F1H                   ; Port 0 Input Mode Configuration
  00F2          +1   141     P1MDIN    DATA  0F2H                   ; Port 1 Input Mode Configuration
  00F3          +1   142     P2MDIN    DATA  0F3H                   ; Port 2 Input Mode Configuration
  00F4          +1   143     P3MDIN    DATA  0F4H                   ; Port 3 Input Mode Configuration
  00F5          +1   144     P4MDIN    DATA  0F5H                   ; Port 4 Input Mode Configuration
  00F6          +1   145     EIP1      DATA  0F6H                   ; Extended Interrupt Priority 1
  00F7          +1   146     EIP2      DATA  0F7H                   ; Extended Interrupt Priority 2
  00F8          +1   147     SPI0CN    DATA  0F8H                   ; SPI Control
  00F9          +1   148     PCA0L     DATA  0F9H                   ; PCA Counter Low
  00FA          +1   149     PCA0H     DATA  0FAH                   ; PCA Counter High
  00FB          +1   150     PCA0CPL0  DATA  0FBH                   ; PCA Capture 0 Low
  00FC          +1   151     PCA0CPH0  DATA  0FCH                   ; PCA Capture 0 High
  00FD          +1   152     PCA0CPL4  DATA  0FDH                   ; PCA Capture 4 Low
  00FE          +1   153     PCA0CPH4  DATA  0FEH                   ; PCA Capture 4 High
  00FF          +1   154     VDM0CN    DATA  0FFH                   ; VDD Monitor Control
                +1   155     
                +1   156     ;------------------------------------------------------------------------------
                +1   157     ; Bit Definitions
                +1   158     ;------------------------------------------------------------------------------
                +1   159     
                +1   160     ; TCON  088H
  008F          +1   161     TF1     BIT     TCON.7                 ; Timer1 overflow flag
  008E          +1   162     TR1     BIT     TCON.6                 ; Timer1 on/off control
  008D          +1   163     TF0     BIT     TCON.5                 ; Timer0 overflow flag
  008C          +1   164     TR0     BIT     TCON.4                 ; Timer0 on/off control
  008B          +1   165     IE1     BIT     TCON.3                 ; Ext. Interrupt 1 edge flag
  008A          +1   166     IT1     BIT     TCON.2                 ; Ext. Interrupt 1 type
  0089          +1   167     IE0     BIT     TCON.1                 ; Ext. Interrupt 0 edge flag
  0088          +1   168     IT0     BIT     TCON.0                 ; Ext. Interrupt 0 type
                +1   169     
                +1   170     ; SCON0  098H
  009F          +1   171     S0MODE  BIT     SCON0.7                ; Serial mode control bit 0
                +1   172                                            ; Bit 6 unused
  009D          +1   173     MCE0    BIT     SCON0.5                ; Multiprocessor communication enable
  009C          +1   174     REN0    BIT     SCON0.4                ; Receive enable
  009B          +1   175     TB80    BIT     SCON0.3                ; Transmit bit 8
  009A          +1   176     RB80    BIT     SCON0.2                ; Receive bit 8
  0099          +1   177     TI0     BIT     SCON0.1                ; Transmit interrupt flag
  0098          +1   178     RI0     BIT     SCON0.0                ; Receive interrupt flag
                +1   179     
                +1   180     ; IE  0A8H
  00AF          +1   181     EA      BIT     IE.7                   ; Global interrupt enable
  00AE          +1   182     ESPI0   BIT     IE.6                   ; Bit 6 unused
  00AD          +1   183     ET2     BIT     IE.5                   ; Bit 5 unused
  00AC          +1   184     ES0     BIT     IE.4                   ; UART0 interrupt enable
  00AB          +1   185     ET1     BIT     IE.3                   ; Timer1 interrupt enable
  00AA          +1   186     EX1     BIT     IE.2                   ; External interrupt 1 enable
  00A9          +1   187     ET0     BIT     IE.1                   ; Timer0 interrupt enable
  00A8          +1   188     EX0     BIT     IE.0                   ; External interrupt 0 enable
                +1   189     
                +1   190     ; IP  0B8H
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     4

                +1   191                                            ; Bit 7 unused
  00BE          +1   192     PSPI0   BIT     IP.6                   ; SPI0 interrupt priority
  00BD          +1   193     PT2     BIT     IP.5                   ; Timer2 priority
  00BC          +1   194     PS0     BIT     IP.4                   ; UART0 priority
  00BB          +1   195     PT1     BIT     IP.3                   ; Timer1 priority
  00BA          +1   196     PX1     BIT     IP.2                   ; External interrupt 1 priority
  00B9          +1   197     PT0     BIT     IP.1                   ; Timer0 priority
  00B8          +1   198     PX0     BIT     IP.0                   ; External interrupt 0 priority
                +1   199     
                +1   200     ; SMB0CN  0C0H
  00C7          +1   201     MASTER  BIT     SMB0CN.7               ; Master/slave indicator
  00C6          +1   202     TXMODE  BIT     SMB0CN.6               ; Transmit mode indicator
  00C5          +1   203     STA     BIT     SMB0CN.5               ; Start flag
  00C4          +1   204     STO     BIT     SMB0CN.4               ; Stop flag
  00C3          +1   205     ACKRQ   BIT     SMB0CN.3               ; Acknowledge request
  00C2          +1   206     ARBLOST BIT     SMB0CN.2               ; Arbitration lost indicator
  00C1          +1   207     ACK     BIT     SMB0CN.1               ; Acknowledge flag
  00C0          +1   208     SI      BIT     SMB0CN.0               ; SMBus interrupt flag
                +1   209     
                +1   210     ; TMR2CN  0C8H
  00CF          +1   211     TF2H    BIT     TMR2CN.7               ; Timer2 high byte overflow flag
  00CE          +1   212     TF2L    BIT     TMR2CN.6               ; Timer2 low byte overflow flag
  00CD          +1   213     TF2LEN  BIT     TMR2CN.5               ; Timer2 low byte interrupt enable
  00CC          +1   214     T2CE    BIT     TMR2CN.4               ; Timer2 capture enable
  00CB          +1   215     T2SPLIT BIT     TMR2CN.3               ; Timer2 split mode enable
  00CA          +1   216     TR2     BIT     TMR2CN.2               ; Timer2 on/off control
  00C9          +1   217     T2CSS   BIT     TMR2CN.1               ; Timer 2 Capture Source select
  00C8          +1   218     T2XCLK  BIT     TMR2CN.0               ; Timer2 external clock select
                +1   219     
                +1   220     ; PSW  0D0H
  00D7          +1   221     CY      BIT     PSW.7                  ; Carry flag
  00D6          +1   222     AC      BIT     PSW.6                  ; Auxiliary carry flag
  00D5          +1   223     F0      BIT     PSW.5                  ; User flag 0
  00D4          +1   224     RS1     BIT     PSW.4                  ; Register bank select 1
  00D3          +1   225     RS0     BIT     PSW.3                  ; Register bank select 0
  00D2          +1   226     OV      BIT     PSW.2                  ; Overflow flag
  00D1          +1   227     F1      BIT     PSW.1                  ; User flag 1
  00D0          +1   228     P       BIT     PSW.0                  ; Accumulator parity flag
                +1   229     
                +1   230     ; PCA0CN  0D8H
  00DF          +1   231     CF      BIT     PCA0CN.7               ; PCA0 counter overflow flag
  00DE          +1   232     CR      BIT     PCA0CN.6               ; PCA0 counter run control
                +1   233                                            ; Bit5 UNUSED
  00DC          +1   234     CCF4    BIT     PCA0CN.4               ; PCA0 module4 capture/compare flag
  00DB          +1   235     CCF3    BIT     PCA0CN.3               ; PCA0 module3 capture/compare flag
  00DA          +1   236     CCF2    BIT     PCA0CN.2               ; PCA0 module2 capture/compare flag
  00D9          +1   237     CCF1    BIT     PCA0CN.1               ; PCA0 module1 capture/compare flag
  00D8          +1   238     CCF0    BIT     PCA0CN.0               ; PCA0 module0 capture/compare flag
                +1   239     
                +1   240     ; ADC0CN  0E8H
  00EF          +1   241     AD0EN   BIT     ADC0CN.7               ; ADC0 enable
  00EE          +1   242     AD0TM   BIT     ADC0CN.6               ; ADC0 track mode
  00ED          +1   243     AD0INT  BIT     ADC0CN.5               ; ADC0 converision complete interrupt flag
  00EC          +1   244     AD0BUSY BIT     ADC0CN.4               ; ADC0 busy flag
  00EB          +1   245     AD0WINT BIT     ADC0CN.3               ; ADC0 window compare interrupt flag
  00EA          +1   246     AD0CM2  BIT     ADC0CN.2               ; ADC0 conversion mode select 2
  00E9          +1   247     AD0CM1  BIT     ADC0CN.1               ; ADC0 conversion mode select 1
  00E8          +1   248     AD0CM0  BIT     ADC0CN.0               ; ADC0 conversion mode select 0
                +1   249     
                +1   250     ; SPI0CN  0F8H
  00FF          +1   251     SPIF    BIT     SPI0CN.7               ; SPI0 interrupt flag
  00FE          +1   252     WCOL    BIT     SPI0CN.6               ; SPI0 write collision flag
  00FD          +1   253     MODF    BIT     SPI0CN.5               ; SPI0 mode fault flag
  00FC          +1   254     RXOVRN  BIT     SPI0CN.4               ; SPI0 rx overrun flag
  00FB          +1   255     NSSMD1  BIT     SPI0CN.3               ; SPI0 slave select mode 1
  00FA          +1   256     NSSMD0  BIT     SPI0CN.2               ; SPI0 slave select mode 0
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     5

  00F9          +1   257     TXBMT   BIT     SPI0CN.1               ; SPI0 transmit buffer empty
  00F8          +1   258     SPIEN   BIT     SPI0CN.0               ; SPI0 SPI enable
                +1   259     
                +1   260     ;------------------------------------------------------------------------------
                +1   261     ; End Of File
                +1   262     ;------------------------------------------------------------------------------
                     263     
                     264     
                     265     
                     266     ;------------------------------------------------------------------------------------------
                             ------------------------------------------------------------------------------------------
                     267     ;Author: Ashwin.V
                     268     ;Country:India
                     269     ;Code:LCD interface in 4bit mode
                     270     ;CPU:At89c51@11.0592Mhz
                     271     ;Tips:All you need to do is call the line where you want to display the message, mov the ch
                             arecter to lcd_DATO and call datw.
                     272     ;If you want to display a string, move the address of the hardcodded string into dptr and c
                             all datw.
                     273     ;------------------------------------------------------------------------------------------
                             -------------------------------------------------------------------------------------------          
                     274                             
                     275     ;DB0            equ   P4.0
                     276     ;DB1            equ   P4.1
                     277     ;DB2            equ   P4.2
                     278     ;DB3            equ   P4.3
                     279     ;DB4    equ   P4.4
                     280     ;DB5    equ   P4.5
                     281     ;DB6    equ   P4.6
                     282     ;DB7    equ   P4.7
                     283     
  00B0               284     RS      equ   P3.0
  00B1               285     RW      equ   P3.1
  00B2               286     EN                      equ             P3.2
  00C7               287     DATO    equ   P4
                     288     
                     289     
  0048               290     dig4            EQU             48h
  0049               291     dig3            EQU             49h
  004A               292     dig2            EQU             4Ah
  004B               293     dig1            EQU             4Bh
  004C               294     dig0            EQU             4Ch
  004D               295     BCD2            EQU             4Dh
  004E               296     BCD1    EQU             4Eh     
  004F               297     BCD0    EQU             4Fh
                     298     
  0052               299     resultado3              EQU             52h
  0053               300     resultado2              EQU             53h
  0054               301     resultado1              EQU             54h
  0055               302     resultado0              EQU             55h
                     303     
  0040               304     contador                        EQU             40h
                     305     
                     306     ;----------------RESET e INTERRUPCIONES---------
0000                 307     org     0000h
0000 020100          308     ljmp inicio
                     309     
                     310     
0003                 311     org     003h
0003                 312     INT0_Int:
0003 22              313     RET
                     314     
000B                 315     org     00Bh
000B                 316     Timer0_Int:
000B 22              317     RET
                     318     
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     6

0013                 319     org     013h
0013                 320     INT1_Int:
0013 22              321     RET
                     322     
001B                 323     org     01Bh
001B                 324     Timer1_Int:
001B 22              325     RET
                     326     
0023                 327     org     023h
0023                 328     UART0_Int:
0023 22              329     RET
                     330     
002B                 331     org     02Bh
002B                 332     Timer2_Int:
002B 22              333     RET
                     334     
0033                 335     org     033h
0033                 336     SPI0_Int:
0033 22              337     RET
                     338     
003B                 339     org     03Bh
003B                 340     SMB0_Int:
003B 22              341     RET
                     342     
0043                 343     org     043h
0043                 344     USB0_Int:
0043 22              345     RET
                     346     
004B                 347     org     04Bh
004B                 348     ADC0_Int:
004B 22              349     RET
                     350     
0053                 351     org     053h
0053                 352     ADC_Int:
0053 22              353     RET
                     354     
005B                 355     org     05Bh
005B                 356     PCA_Int:
005B 22              357     RET
                     358     
0063                 359     org     063h
0063                 360     Comp0_Int:
0063 22              361     RET
                     362     
006B                 363     org     06Bh
006B                 364     Comp1_Int:
006B 22              365     RET
                     366     
0073                 367     org     073h
0073                 368     Timer3_Int:
0073 22              369     RET
                     370     
007B                 371     org     07Bh
007B                 372     VBUS_Int:
007B 22              373     RET
                     374     
0083                 375     org     083h
0083                 376     UART1_Int:
0083 22              377     RET
                     378     ;----------------FIN INTERRUPCIONES---------------
                     379     
                     380     
                     381     
                     382     
                     383     ;__________________________________________________
                     384     ;-----------------main code------------------
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     7

                     385     ;__________________________________________________
                     386     
0100                 387     org 100h
                     388     
0100                 389     inicio: 
                     390     
                     391     ;---------------SETEOS-------------------------  
                     392     
0100                 393     PCA_Init:
0100 53D9BF          394         anl  PCA0MD,    #0BFh
0103 75D900          395         mov  PCA0MD,    #000h
0106 75DE48          396         mov  PCA0CPM4,  #048h
                     397     
0109                 398     Timer_Init:
                     399     ;    mov  TMOD,      #001h
                     400     
                     401     
0109                 402     SPI_Init:
                     403     ;    mov  SPI0CFG,   #040h
                     404     ;    mov  SPI0CN,    #001h
                     405     
0109                 406     ADC_Init:
0109 75BB04          407         mov  AMX0P,     #004h
010C 75BA1F          408         mov  AMX0N,     #01Fh
010F 75E8C0          409         mov  ADC0CN,    #0C0h
                     410     
                     411     
0112                 412     Voltage_Reference_Init:
0112 75D108          413         mov  REF0CN,    #008h
                     414     
                     415     
0115                 416     Port_IO_Init:
                     417         ; P0.0  -  SCK  (SPI0), Open-Drain, Digital
                     418         ; P0.1  -  MISO (SPI0), Open-Drain, Digital
                     419         ; P0.2  -  MOSI (SPI0), Open-Drain, Digital
                     420         ; P2.5  -  Skipped,     Open-Drain, Analog
                     421     
                     422     ;    mov  P0MDIN,    #03Fh
                     423     ;    mov  P1MDIN,    #0DFh
0115 75F3C0          424         mov  P2MDIN,    #0C0h
                     425     ;    mov  P4MDIN,    #0FFh
                     426     ;    mov  P0SKIP,    #0F8h
                     427     ;    mov  P1SKIP,    #020h
                     428     ;    mov  P2SKIP,    #0FFh
                     429     ;    mov  P3SKIP,    #0FFh
0118 75E102          430         mov  XBR0,      #002h
011B 75E240          431         mov  XBR1,      #040h
                     432     
011E 75A70F          433                     mov             P3MDOUT,#00Fh
0121 75AEFF          434                     mov             P4MDOUT,#0FFh
                     435     
0124                 436     Oscillator_Init:
0124 75B283          437         mov  OSCICN,    #083h
                     438     
                     439     
                     440     
                     441     
                     442     
                     443     
                     444     
                     445     ;-----------FIN SETEOS------------------------- 
                     446     
                     447     
                     448     
                     449     ;XXXXXXXXXXXXXXXXXXXXXXXXXXXX
                     450     ;---------------SETEOS-------------------------  
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     8

0127 75A408          451         mov  P0MDOUT,   #008h
012A 75A50F          452         mov  P1MDOUT,   #00Fh
012D 75A7F0          453         mov  P3MDOUT,   #0F0h
0130 75E102          454         mov  XBR0,      #002h
0133 75E240          455         mov  XBR1,      #040h
                     456     
                     457     
0136                 458     Oscillator_Init2:
0136 75B283          459         mov  OSCICN,    #083h
                     460     
0139                 461     PCA_Init2:
0139 53D9BF          462         anl  PCA0MD,    #0BFh
013C 75D900          463         mov  PCA0MD,    #000h
                     464     
                     465     ;-----------FIN SETEOS------------------------- 
                     466     
                     467     
                     468     ;---------------------------------------------------------
                     469     
                     470     
013F                 471     lcd:
013F 75C700          472     mov             DATO,#00h
0142 C2B0            473     clr             RS
0144 C2B1            474     clr             RW
0146 C2B2            475     clr             EN
0148 75A70F          476     mov             P3MDOUT,#00Fh
014B 75AEFF          477     mov             P4MDOUT,#0FFh
                     478     
                     479     
014E 319F            480     acall           init_lcd
                     481     
0150                 482     PRUEBA:
0150 31E3            483     acall           clear_lcd
                     484     
                     485     ;XXXXXXXXXXXXXXXXXXXXXXXXXXXX
                     486     
0152 A8BD            487                     mov             R0,ADC0L
0154 A9BE            488                     mov             R1,ADC0H
0156 319F            489                     acall           init_lcd
                     490     
0158                 491     conversion:
0158 D2EC            492                     setb            AD0BUSY
015A                 493     conv:
015A 20ECFD          494                     JB                      AD0BUSY,conv
015D A8BD            495                     mov                     R0,ADC0L
015F A9BE            496                     mov                     R1,ADC0H
                     497                     
0161 8855            498                     mov                     Resultado0,R0
0163 8954            499                     mov                     Resultado1,R1
0165 511E            500                     acall           binbcd
0167 516C            501                     acall           separa_nib
                     502                     
0169 E54C            503                     mov                     A,dig0
016B 518D            504                     acall           lcd7seg
016D F54C            505                     mov                     dig0,A
                     506                     
016F E54B            507                     mov                     A,dig1
0171 518D            508                     acall           lcd7seg
0173 F54B            509                     mov                     dig1,A
                     510                                     
0175 E54A            511                     mov                     A,dig2
0177 518D            512                     acall           lcd7seg
0179 F54A            513                     mov                     dig2,A
                     514                                     
017B E549            515                     mov                     A,dig3
017D 518D            516                     acall           lcd7seg
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE     9

017F F549            517                     mov                     dig3,A
                     518     
                     519     
                     520     ;               acall           clear_lcd
0181 C2B0            521     CLR RS
0183 75C780          522     MOV DATO,#080h
0186 D2B2            523     SETB EN
0188 C2B2            524     CLR EN
018A 1201F0          525     LCALL WAIT_LCD
                     526                     
018D E549            527                     mov                     A,dig3
018F 31D7            528                     acall           write_text
0191 E54A            529                     mov                     A,dig2
0193 31D7            530                     acall           write_text
0195 E54B            531                     mov                     A,dig1
0197 31D7            532                     acall           write_text
0199 E54C            533                     mov                     A,dig0
019B 31D7            534                     acall           write_text
                     535     
                     536     
019D 2158            537                     ajmp            conversion
                     538     
                     539     ;---------------------------------------------------------
                     540     ;---------PROGRAMA LCD------------------------------------
                     541     
                     542     
019F                 543     INIT_LCD:
                     544                             
                     545                             
019F 75A70F          546                             mov             P3MDOUT,#00Fh
01A2 75AEFF          547                             mov             P4MDOUT,#0FFh
01A5 75C700          548                             mov             DATO,#00h
01A8 C2B1            549                             clr             RW
01AA C2B2            550                             clr             EN
                     551     
                     552     
01AC C2B0            553           CLR RS
01AE 75C738          554           MOV DATO,#38h
01B1 D2B2            555           SETB EN
01B3 5112            556                             acall   DiezMilis      
01B5 C2B2            557                             CLR EN
                     558           
01B7 1201F0          559                             LCALL WAIT_LCD
01BA C2B0            560           CLR RS
01BC 75C70E          561           MOV DATO,#0Eh
01BF D2B2            562           SETB EN
01C1 5112            563                             acall   DiezMilis 
01C3 C2B2            564           CLR EN
                     565           
01C5 1201F0          566                             LCALL WAIT_LCD
01C8 C2B0            567           CLR RS
01CA 75C706          568           MOV DATO,#06h
01CD D2B2            569           SETB EN
01CF 5112            570                             acall   DiezMilis 
01D1 C2B2            571           CLR EN
                     572          
01D3 1201F0          573           LCALL WAIT_LCD
01D6 22              574           RET
                     575     
                     576     
01D7                 577     WRITE_TEXT:
                     578     
01D7 D2B0            579           SETB RS
01D9 F5C7            580           MOV DATO,A
01DB D2B2            581           SETB EN
01DD C2B2            582           CLR EN
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    10

01DF 1201F0          583           LCALL WAIT_LCD
01E2 22              584           RET
                     585     
                     586     
01E3                 587     CLEAR_LCD:
                     588     
01E3 C2B0            589           CLR RS
01E5 75C701          590           MOV DATO,#01h
01E8 D2B2            591           SETB EN
01EA C2B2            592           CLR EN
01EC 1201F0          593           LCALL WAIT_LCD
01EF 22              594           RET
                     595     
                     596     
01F0                 597     WAIT_LCD:
01F0 75AE00          598                             mov             P4MDOUT,#00h
01F3 C2B2            599           CLR EN ;Start LCD command
01F5 C2B0            600           CLR RS ;It's a command
01F7 D2B1            601           SETB RW ;It's a read command
01F9 75C7FF          602           MOV DATO,#0FFh ;Set all pins to FF initially
01FC D2B2            603           SETB EN ;Clock out command to LCD
01FE E5C7            604           MOV A,DATO ;Read the return value
0200 20E7ED          605           JB ACC.7,WAIT_LCD ;If bit 7 high, LCD still busy
0203 C2B2            606           CLR EN ;Finish the command
0205 C2B1            607           CLR RW ;Turn off RW for future commands
0207 75AEFF          608           mov               P4MDOUT,#0FFh
020A 22              609                             RET
                     610     
                     611     ;----------------------------------------------------------------------------;
                     612     
020B                 613     UnSeg:
020B 7F64            614             mov     r7, #100
020D                 615     LazoUnSeg:
020D 5112            616             call    DiezMilis
                     617     
020F DFFC            618             djnz    r7, LazoUnSeg
0211 22              619             ret
                     620     
                     621     ;----------------------------------------------------------------------------;
                     622     
0212                 623     DiezMilis:
0212 7E64            624             mov     r6, #100
0214                 625     LazoDiezMilis:
0214 5119            626             call    CienMicros
                     627     
0216 DEFC            628             djnz    r6, LazoDiezMilis
0218 22              629             ret
                     630     
                     631     ;----------------------------------------------------------------------------;
                     632     
0219                 633     CienMicros:
0219 7D32            634             mov     r5, #50
021B                 635     LazoCienMicros:
021B DDFE            636             djnz    r5, LazoCienMicros
021D 22              637             ret
                     638     
                     639     ;----------------------------------------------------------------------------;
                     640     
                     641     
                     642     
                     643     
                     644     ;******** comienzo rutina BCD 16bit **********************                      
                     645     ;toma numero de resultado1_resultado0
                     646     ;Y lo convierte a BCD en los BCD2_BCD1_BCD0 
                     647     ;Rota 16 veces acarreando Resultado_0,1_BCD_0,1,2
                     648     ;si algun BCD es mayor que 4, corrije
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    11

                     649     
021E                 650     binbcd:         
021E 754010          651                                     mov     contador,#16d       ;
0221 754D00          652                                     mov     bcd2,#00h
0224 754E00          653                                     mov     bcd1,#00h
0227 754F00          654                                     mov     bcd0,#00h
                     655     
022A E555            656     desplaz:                mov     A,resultado0
022C 33              657                                     rlc     A
022D F555            658                                     mov     resultado0,A
022F E554            659                                     mov     A,resultado1
0231 33              660                                     rlc     A
0232 F554            661                                     mov     resultado1,A
0234 E54F            662                                     mov     A,bcd0
0236 33              663                                     rlc     A
0237 F54F            664                                     mov     bcd0,A
0239 E54E            665                                     mov     A,bcd1
023B 33              666                                     rlc     A
023C F54E            667                                     mov     bcd1,A
023E E54D            668                                     mov     A,bcd2
0240 33              669                                     rlc     A
0241 F54D            670                                     mov     bcd2,A
0243 D54001          671                                     djnz    contador,ajuste
0246 22              672                                     ret                                                        
                                  ;fin de conversion BCD
                     673     
0247 784F            674     ajuste:         mov     r0,#bcd0
0249 5155            675                                     call    ajbcd
024B 784E            676                                     mov     r0,#bcd1
024D 5155            677                                     call    ajbcd
024F 784D            678                                     mov     r0,#bcd2
0251 5155            679                                     call    ajbcd
0253 412A            680                                     ajmp    desplaz
                     681     
0255 E6              682     ajbcd:          mov     A,@r0
0256 2403            683                                     add     A,#3h
0258 F5F0            684                                     mov     B,A
025A A2F3            685                                     mov     C,B.3
025C 5002            686                                     jnc     sig
025E A6F0            687                                     mov     @r0,B
0260 E6              688     sig:                    mov     A,@r0
0261 2430            689                                     add     A,#30h
0263 F5F0            690                                     mov     B,A
0265 A2F7            691                                     mov     C,B.7
0267 5002            692                                     jnc     sig2
0269 A6F0            693                                     mov     @r0,B
026B 22              694     sig2:                   ret
                     695     
                     696     ;************ fin Rutina BCD *********************
                     697     
                     698     ;************separa nibbles de los BCD************
                     699     ;toma los BCD2_BCD1_BCD0
                     700     ;los pone en dig1,2,3,4,5
026C                 701     separa_nib:
026C E54F            702                                     mov     A,BCD0
026E 540F            703                                     anl     A,#0Fh
0270 F54C            704                                     mov     dig0,A
0272 E54F            705                                     mov     A,BCD0
0274 54F0            706                                     anl     A,#0F0h
0276 C4              707                                     swap    A
0277 F54B            708                                     mov     dig1,A
0279 E54E            709                                     mov     A,BCD1
027B 540F            710                                     anl     A,#0Fh
027D F54A            711                                     mov     dig2,A
027F E54E            712                                     mov     A,BCD1
0281 54F0            713                                     anl     A,#0F0h
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    12

0283 C4              714                                     swap    A
0284 F549            715                                     mov     dig3,A
0286 E54D            716                                     mov     A,BCD2
0288 540F            717                                     anl     A,#0Fh
028A F548            718                                     mov     dig4,A
028C 22              719                                     ret
                     720     
                     721     
                     722     
                     723     ;*************************************************
                     724     ; toma numero del acumulador
                     725     ; lo multiplico por 4 y salto a 
                     726     ; acumulador mas direccion de Tabla
                     727     
                     728     
028D                 729     LCD7seg:                
028D 23              730                                     rl              A
028E 23              731                                     rl              A         
028F 900294          732                                     mov     DPTR,#tabla
0292 73              733                                     jmp     @A+DPTR
0293 22              734     ret_accion:     ret
                     735     
                     736     
                     737     ;*************************************************
                     738     
                     739     
                     740     ;*************************************************
                     741     ;reemplaza numero por secuencia correspondiente en 7segmentos
                     742     
0294                 743     tabla:          
0294 7430            744                                     mov     A,#48d                                             
                                  ;cero en LCD                    
0296 4193            745                                     ajmp    ret_accion                                      
0298 7431            746                                     mov     A,#49d                                             
                                  ;uno en LCD                     
029A 4193            747                                     ajmp    ret_accion                                      
029C 7432            748                                     mov     A,#50d                                             
                                  ;dos en LCD                     
029E 4193            749                                     ajmp    ret_accion                                      
02A0 7433            750                                     mov     A,#51d                                             
                                  ;tres en LCD                    
02A2 4193            751                                     ajmp    ret_accion                                      
02A4 7434            752                                     mov     A,#52d                                             
                                  ;cuatro en LCD                  
02A6 4193            753                                     ajmp    ret_accion                                      
02A8 7435            754                                     mov     A,#53d                                             
                                  ;cinco en LCD                   
02AA 4193            755                                     ajmp    ret_accion                                      
02AC 7436            756                                     mov     A,#54d                                             
                                  ;seis en LCD                    
02AE 4193            757                                     ajmp    ret_accion                                      
02B0 7437            758                                     mov     A,#55d                                             
                                  ;siete en LCD                   
02B2 4193            759                                     ajmp    ret_accion                                      
02B4 7438            760                                     mov     A,#56d                                             
                                  ;ocho en LCD                    
02B6 4193            761                                     ajmp    ret_accion                                      
02B8 7439            762                                     mov     A,#57d                                             
                                  ;nueve en LCD                   
02BA 4193            763                                     ajmp    ret_accion                                      
                     764                                                                                           
                     765     ;************************************************************
                     766     
                     767     
                     768     END
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    13

XREF SYMBOL TABLE LISTING
---- ------ ----- -------


N A M E                 T Y P E  V A L U E   ATTRIBUTES / REFERENCES

AC . . . . . . . . . .  B ADDR   00D0H.6 A      222#
ACC. . . . . . . . . .  D ADDR   00E0H   A      123# 605
ACK. . . . . . . . . .  B ADDR   00C0H.1 A      207#
ACKRQ. . . . . . . . .  B ADDR   00C0H.3 A      205#
AD0BUSY. . . . . . . .  B ADDR   00E8H.4 A      244# 492 494
AD0CM0 . . . . . . . .  B ADDR   00E8H.0 A      248#
AD0CM1 . . . . . . . .  B ADDR   00E8H.1 A      247#
AD0CM2 . . . . . . . .  B ADDR   00E8H.2 A      246#
AD0EN. . . . . . . . .  B ADDR   00E8H.7 A      241#
AD0INT . . . . . . . .  B ADDR   00E8H.5 A      243#
AD0TM. . . . . . . . .  B ADDR   00E8H.6 A      242#
AD0WINT. . . . . . . .  B ADDR   00E8H.3 A      245#
ADC0CF . . . . . . . .  D ADDR   00BCH   A      90#
ADC0CN . . . . . . . .  D ADDR   00E8H   A      131# 241 242 243 244 245 246 247 248 409
ADC0GTH. . . . . . . .  D ADDR   00C4H   A      97#
ADC0GTL. . . . . . . .  D ADDR   00C3H   A      96#
ADC0H. . . . . . . . .  D ADDR   00BEH   A      92# 488 496
ADC0L. . . . . . . . .  D ADDR   00BDH   A      91# 487 495
ADC0LTH. . . . . . . .  D ADDR   00C6H   A      99#
ADC0LTL. . . . . . . .  D ADDR   00C5H   A      98#
ADC0_INT . . . . . . .  C ADDR   004BH   A      348#
ADC_INIT . . . . . . .  C ADDR   0109H   A      406#
ADC_INT. . . . . . . .  C ADDR   0053H   A      352#
AJBCD. . . . . . . . .  C ADDR   0255H   A      675 677 679 682#
AJUSTE . . . . . . . .  C ADDR   0247H   A      671 674#
AMX0N. . . . . . . . .  D ADDR   00BAH   A      88# 408
AMX0P. . . . . . . . .  D ADDR   00BBH   A      89# 407
ARBLOST. . . . . . . .  B ADDR   00C0H.2 A      206#
B. . . . . . . . . . .  D ADDR   00F0H   A      139# 684 685 687 690 691 693
BCD0 . . . . . . . . .  N NUMB   004FH   A      297# 654 662 664 674 702 705
BCD1 . . . . . . . . .  N NUMB   004EH   A      296# 653 665 667 676 709 712
BCD2 . . . . . . . . .  N NUMB   004DH   A      295# 652 668 670 678 716
BINBCD . . . . . . . .  C ADDR   021EH   A      500 650#
CCF0 . . . . . . . . .  B ADDR   00D8H.0 A      238#
CCF1 . . . . . . . . .  B ADDR   00D8H.1 A      237#
CCF2 . . . . . . . . .  B ADDR   00D8H.2 A      236#
CCF3 . . . . . . . . .  B ADDR   00D8H.3 A      235#
CCF4 . . . . . . . . .  B ADDR   00D8H.4 A      234#
CF . . . . . . . . . .  B ADDR   00D8H.7 A      231#
CIENMICROS . . . . . .  C ADDR   0219H   A      626 633#
CKCON. . . . . . . . .  D ADDR   008EH   A      46#
CLEAR_LCD. . . . . . .  C ADDR   01E3H   A      483 587#
CLKMUL . . . . . . . .  D ADDR   00B9H   A      87#
CLKSEL . . . . . . . .  D ADDR   00A9H   A      73#
COMP0_INT. . . . . . .  C ADDR   0063H   A      360#
COMP1_INT. . . . . . .  C ADDR   006BH   A      364#
CONTADOR . . . . . . .  N NUMB   0040H   A      304# 651 671
CONV . . . . . . . . .  C ADDR   015AH   A      493# 494
CONVERSION . . . . . .  C ADDR   0158H   A      491# 537
CPT0CN . . . . . . . .  D ADDR   009BH   A      59#
CPT0MD . . . . . . . .  D ADDR   009DH   A      61#
CPT0MX . . . . . . . .  D ADDR   009FH   A      63#
CPT1CN . . . . . . . .  D ADDR   009AH   A      58#
CPT1MD . . . . . . . .  D ADDR   009CH   A      60#
CPT1MX . . . . . . . .  D ADDR   009EH   A      62#
CR . . . . . . . . . .  B ADDR   00D8H.6 A      232#
CY . . . . . . . . . .  B ADDR   00D0H.7 A      221#
DATO . . . . . . . . .  D ADDR   00C7H   A      287# 472 522 548 554 561 568 580 590 602 604
DESPLAZ. . . . . . . .  C ADDR   022AH   A      656# 680
DIEZMILIS. . . . . . .  C ADDR   0212H   A      556 563 570 616 623#
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    14

DIG0 . . . . . . . . .  N NUMB   004CH   A      294# 503 505 533 704
DIG1 . . . . . . . . .  N NUMB   004BH   A      293# 507 509 531 708
DIG2 . . . . . . . . .  N NUMB   004AH   A      292# 511 513 529 711
DIG3 . . . . . . . . .  N NUMB   0049H   A      291# 515 517 527 715
DIG4 . . . . . . . . .  N NUMB   0048H   A      290# 718
DPH. . . . . . . . . .  D ADDR   0083H   A      35#
DPL. . . . . . . . . .  D ADDR   0082H   A      34#
EA . . . . . . . . . .  B ADDR   00A8H.7 A      181#
EIE1 . . . . . . . . .  D ADDR   00E6H   A      129#
EIE2 . . . . . . . . .  D ADDR   00E7H   A      130#
EIP1 . . . . . . . . .  D ADDR   00F6H   A      145#
EIP2 . . . . . . . . .  D ADDR   00F7H   A      146#
EMI0CF . . . . . . . .  D ADDR   0085H   A      37#
EMI0CN . . . . . . . .  D ADDR   00AAH   A      74#
EMI0TC . . . . . . . .  D ADDR   0084H   A      36#
EN . . . . . . . . . .  B ADDR   00B0H.2 A      286# 475 523 524 550 555 557 562 564 569 571 581 582 591 592 599 603
                                               606
ES0. . . . . . . . . .  B ADDR   00A8H.4 A      184#
ESPI0. . . . . . . . .  B ADDR   00A8H.6 A      182#
ET0. . . . . . . . . .  B ADDR   00A8H.1 A      187#
ET1. . . . . . . . . .  B ADDR   00A8H.3 A      185#
ET2. . . . . . . . . .  B ADDR   00A8H.5 A      183#
EX0. . . . . . . . . .  B ADDR   00A8H.0 A      188#
EX1. . . . . . . . . .  B ADDR   00A8H.2 A      186#
F0 . . . . . . . . . .  B ADDR   00D0H.5 A      223#
F1 . . . . . . . . . .  B ADDR   00D0H.1 A      227#
FLKEY. . . . . . . . .  D ADDR   00B7H   A      85#
FLSCL. . . . . . . . .  D ADDR   00B6H   A      84#
IE . . . . . . . . . .  D ADDR   00A8H   A      72# 181 182 183 184 185 186 187 188
IE0. . . . . . . . . .  B ADDR   0088H.1 A      167#
IE1. . . . . . . . . .  B ADDR   0088H.3 A      165#
INICIO . . . . . . . .  C ADDR   0100H   A      308 389#
INIT_LCD . . . . . . .  C ADDR   019FH   A      480 489 543#
INT0_INT . . . . . . .  C ADDR   0003H   A      312#
INT1_INT . . . . . . .  C ADDR   0013H   A      320#
IP . . . . . . . . . .  D ADDR   00B8H   A      86# 192 193 194 195 196 197 198
IT0. . . . . . . . . .  B ADDR   0088H.0 A      168#
IT01CF . . . . . . . .  D ADDR   00E4H   A      127#
IT1. . . . . . . . . .  B ADDR   0088H.2 A      166#
LAZOCIENMICROS . . . .  C ADDR   021BH   A      635# 636
LAZODIEZMILIS. . . . .  C ADDR   0214H   A      625# 628
LAZOUNSEG. . . . . . .  C ADDR   020DH   A      615# 618
LCD. . . . . . . . . .  C ADDR   013FH   A      471#
LCD7SEG. . . . . . . .  C ADDR   028DH   A      504 508 512 516 729#
MASTER . . . . . . . .  B ADDR   00C0H.7 A      201#
MCE0 . . . . . . . . .  B ADDR   0098H.5 A      173#
MODF . . . . . . . . .  B ADDR   00F8H.5 A      253#
NSSMD0 . . . . . . . .  B ADDR   00F8H.2 A      256#
NSSMD1 . . . . . . . .  B ADDR   00F8H.3 A      255#
OSCICL . . . . . . . .  D ADDR   00B3H   A      81#
OSCICN . . . . . . . .  D ADDR   00B2H   A      80# 437 459
OSCILLATOR_INIT. . . .  C ADDR   0124H   A      436#
OSCILLATOR_INIT2 . . .  C ADDR   0136H   A      458#
OSCLCN . . . . . . . .  D ADDR   0086H   A      38#
OSCXCN . . . . . . . .  D ADDR   00B1H   A      79#
OV . . . . . . . . . .  B ADDR   00D0H.2 A      226#
P. . . . . . . . . . .  B ADDR   00D0H.0 A      228#
P0 . . . . . . . . . .  D ADDR   0080H   A      32#
P0MDIN . . . . . . . .  D ADDR   00F1H   A      140#
P0MDOUT. . . . . . . .  D ADDR   00A4H   A      68# 451
P0SKIP . . . . . . . .  D ADDR   00D4H   A      111#
P1 . . . . . . . . . .  D ADDR   0090H   A      48#
P1MDIN . . . . . . . .  D ADDR   00F2H   A      141#
P1MDOUT. . . . . . . .  D ADDR   00A5H   A      69# 452
P1SKIP . . . . . . . .  D ADDR   00D5H   A      112#
P2 . . . . . . . . . .  D ADDR   00A0H   A      64#
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    15

P2MDIN . . . . . . . .  D ADDR   00F3H   A      142# 424
P2MDOUT. . . . . . . .  D ADDR   00A6H   A      70#
P2SKIP . . . . . . . .  D ADDR   00D6H   A      113#
P3 . . . . . . . . . .  D ADDR   00B0H   A      78# 284 285 286
P3MDIN . . . . . . . .  D ADDR   00F4H   A      143#
P3MDOUT. . . . . . . .  D ADDR   00A7H   A      71# 433 453 476 546
P3SKIP . . . . . . . .  D ADDR   00DFH   A      122#
P4 . . . . . . . . . .  D ADDR   00C7H   A      100# 287
P4MDIN . . . . . . . .  D ADDR   00F5H   A      144#
P4MDOUT. . . . . . . .  D ADDR   00AEH   A      76# 434 477 547 598 608
PCA0CN . . . . . . . .  D ADDR   00D8H   A      115# 231 232 234 235 236 237 238
PCA0CPH0 . . . . . . .  D ADDR   00FCH   A      151#
PCA0CPH1 . . . . . . .  D ADDR   00EAH   A      133#
PCA0CPH2 . . . . . . .  D ADDR   00ECH   A      135#
PCA0CPH3 . . . . . . .  D ADDR   00EEH   A      137#
PCA0CPH4 . . . . . . .  D ADDR   00FEH   A      153#
PCA0CPL0 . . . . . . .  D ADDR   00FBH   A      150#
PCA0CPL1 . . . . . . .  D ADDR   00E9H   A      132#
PCA0CPL2 . . . . . . .  D ADDR   00EBH   A      134#
PCA0CPL3 . . . . . . .  D ADDR   00EDH   A      136#
PCA0CPL4 . . . . . . .  D ADDR   00FDH   A      152#
PCA0CPM0 . . . . . . .  D ADDR   00DAH   A      117#
PCA0CPM1 . . . . . . .  D ADDR   00DBH   A      118#
PCA0CPM2 . . . . . . .  D ADDR   00DCH   A      119#
PCA0CPM3 . . . . . . .  D ADDR   00DDH   A      120#
PCA0CPM4 . . . . . . .  D ADDR   00DEH   A      121# 396
PCA0H. . . . . . . . .  D ADDR   00FAH   A      149#
PCA0L. . . . . . . . .  D ADDR   00F9H   A      148#
PCA0MD . . . . . . . .  D ADDR   00D9H   A      116# 394 395 462 463
PCA_INIT . . . . . . .  C ADDR   0100H   A      393#
PCA_INIT2. . . . . . .  C ADDR   0139H   A      461#
PCA_INT. . . . . . . .  C ADDR   005BH   A      356#
PCON . . . . . . . . .  D ADDR   0087H   A      39#
PFE0CN . . . . . . . .  D ADDR   00AFH   A      77#
PORT_IO_INIT . . . . .  C ADDR   0115H   A      416#
PRUEBA . . . . . . . .  C ADDR   0150H   A      482#
PS0. . . . . . . . . .  B ADDR   00B8H.4 A      194#
PSCTL. . . . . . . . .  D ADDR   008FH   A      47#
PSPI0. . . . . . . . .  B ADDR   00B8H.6 A      192#
PSW. . . . . . . . . .  D ADDR   00D0H   A      107# 221 222 223 224 225 226 227 228
PT0. . . . . . . . . .  B ADDR   00B8H.1 A      197#
PT1. . . . . . . . . .  B ADDR   00B8H.3 A      195#
PT2. . . . . . . . . .  B ADDR   00B8H.5 A      193#
PX0. . . . . . . . . .  B ADDR   00B8H.0 A      198#
PX1. . . . . . . . . .  B ADDR   00B8H.2 A      196#
RB80 . . . . . . . . .  B ADDR   0098H.2 A      176#
REF0CN . . . . . . . .  D ADDR   00D1H   A      108# 413
REG0CN . . . . . . . .  D ADDR   00C9H   A      102#
REN0 . . . . . . . . .  B ADDR   0098H.4 A      174#
RESULTADO0 . . . . . .  N NUMB   0055H   A      302# 498 656 658
RESULTADO1 . . . . . .  N NUMB   0054H   A      301# 499 659 661
RESULTADO2 . . . . . .  N NUMB   0053H   A      300#
RESULTADO3 . . . . . .  N NUMB   0052H   A      299#
RET_ACCION . . . . . .  C ADDR   0293H   A      734# 745 747 749 751 753 755 757 759 761 763
RI0. . . . . . . . . .  B ADDR   0098H.0 A      178#
RS . . . . . . . . . .  B ADDR   00B0H.0 A      284# 473 521 553 560 567 579 589 600
RS0. . . . . . . . . .  B ADDR   00D0H.3 A      225#
RS1. . . . . . . . . .  B ADDR   00D0H.4 A      224#
RSTSRC . . . . . . . .  D ADDR   00EFH   A      138#
RW . . . . . . . . . .  B ADDR   00B0H.1 A      285# 474 549 601 607
RXOVRN . . . . . . . .  B ADDR   00F8H.4 A      254#
S0MODE . . . . . . . .  B ADDR   0098H.7 A      171#
SBCON1 . . . . . . . .  D ADDR   00ACH   A      75#
SBRLH1 . . . . . . . .  D ADDR   00B5H   A      83#
SBRLL1 . . . . . . . .  D ADDR   00B4H   A      82#
SBUF0. . . . . . . . .  D ADDR   0099H   A      57#
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    16

SBUF1. . . . . . . . .  D ADDR   00D3H   A      110#
SCON0. . . . . . . . .  D ADDR   0098H   A      56# 171 173 174 175 176 177 178
SCON1. . . . . . . . .  D ADDR   00D2H   A      109#
SEPARA_NIB . . . . . .  C ADDR   026CH   A      501 701#
SI . . . . . . . . . .  B ADDR   00C0H.0 A      208#
SIG. . . . . . . . . .  C ADDR   0260H   A      686 688#
SIG2 . . . . . . . . .  C ADDR   026BH   A      692 694#
SMB0CF . . . . . . . .  D ADDR   00C1H   A      94#
SMB0CN . . . . . . . .  D ADDR   00C0H   A      93# 201 202 203 204 205 206 207 208
SMB0DAT. . . . . . . .  D ADDR   00C2H   A      95#
SMB0_INT . . . . . . .  C ADDR   003BH   A      340#
SMOD1. . . . . . . . .  D ADDR   00E5H   A      128#
SP . . . . . . . . . .  D ADDR   0081H   A      33#
SPI0CFG. . . . . . . .  D ADDR   00A1H   A      65#
SPI0CKR. . . . . . . .  D ADDR   00A2H   A      66#
SPI0CN . . . . . . . .  D ADDR   00F8H   A      147# 251 252 253 254 255 256 257 258
SPI0DAT. . . . . . . .  D ADDR   00A3H   A      67#
SPI0_INT . . . . . . .  C ADDR   0033H   A      336#
SPIEN. . . . . . . . .  B ADDR   00F8H.0 A      258#
SPIF . . . . . . . . .  B ADDR   00F8H.7 A      251#
SPI_INIT . . . . . . .  C ADDR   0109H   A      402#
STA. . . . . . . . . .  B ADDR   00C0H.5 A      203#
STO. . . . . . . . . .  B ADDR   00C0H.4 A      204#
T2CE . . . . . . . . .  B ADDR   00C8H.4 A      214#
T2CSS. . . . . . . . .  B ADDR   00C8H.1 A      217#
T2SPLIT. . . . . . . .  B ADDR   00C8H.3 A      215#
T2XCLK . . . . . . . .  B ADDR   00C8H.0 A      218#
TABLA. . . . . . . . .  C ADDR   0294H   A      732 743#
TB80 . . . . . . . . .  B ADDR   0098H.3 A      175#
TCON . . . . . . . . .  D ADDR   0088H   A      40# 161 162 163 164 165 166 167 168
TF0. . . . . . . . . .  B ADDR   0088H.5 A      163#
TF1. . . . . . . . . .  B ADDR   0088H.7 A      161#
TF2H . . . . . . . . .  B ADDR   00C8H.7 A      211#
TF2L . . . . . . . . .  B ADDR   00C8H.6 A      212#
TF2LEN . . . . . . . .  B ADDR   00C8H.5 A      213#
TH0. . . . . . . . . .  D ADDR   008CH   A      44#
TH1. . . . . . . . . .  D ADDR   008DH   A      45#
TI0. . . . . . . . . .  B ADDR   0098H.1 A      177#
TIMER0_INT . . . . . .  C ADDR   000BH   A      316#
TIMER1_INT . . . . . .  C ADDR   001BH   A      324#
TIMER2_INT . . . . . .  C ADDR   002BH   A      332#
TIMER3_INT . . . . . .  C ADDR   0073H   A      368#
TIMER_INIT . . . . . .  C ADDR   0109H   A      398#
TL0. . . . . . . . . .  D ADDR   008AH   A      42#
TL1. . . . . . . . . .  D ADDR   008BH   A      43#
TMOD . . . . . . . . .  D ADDR   0089H   A      41#
TMR2CN . . . . . . . .  D ADDR   00C8H   A      101# 211 212 213 214 215 216 217 218
TMR2H. . . . . . . . .  D ADDR   00CDH   A      106#
TMR2L. . . . . . . . .  D ADDR   00CCH   A      105#
TMR2RLH. . . . . . . .  D ADDR   00CBH   A      104#
TMR2RLL. . . . . . . .  D ADDR   00CAH   A      103#
TMR3CN . . . . . . . .  D ADDR   0091H   A      49#
TMR3H. . . . . . . . .  D ADDR   0095H   A      53#
TMR3L. . . . . . . . .  D ADDR   0094H   A      52#
TMR3RLH. . . . . . . .  D ADDR   0093H   A      51#
TMR3RLL. . . . . . . .  D ADDR   0092H   A      50#
TR0. . . . . . . . . .  B ADDR   0088H.4 A      164#
TR1. . . . . . . . . .  B ADDR   0088H.6 A      162#
TR2. . . . . . . . . .  B ADDR   00C8H.2 A      216#
TXBMT. . . . . . . . .  B ADDR   00F8H.1 A      257#
TXMODE . . . . . . . .  B ADDR   00C0H.6 A      202#
UART0_INT. . . . . . .  C ADDR   0023H   A      328#
UART1_INT. . . . . . .  C ADDR   0083H   A      376#
UNSEG. . . . . . . . .  C ADDR   020BH   A      613#
USB0ADR. . . . . . . .  D ADDR   0096H   A      54#
USB0DAT. . . . . . . .  D ADDR   0097H   A      55#
A51 MACRO ASSEMBLER  ADC                                                                  11/15/2007 23:20:44 PAGE    17

USB0XCN. . . . . . . .  D ADDR   00D7H   A      114#
USB0_INT . . . . . . .  C ADDR   0043H   A      344#
VBUS_INT . . . . . . .  C ADDR   007BH   A      372#
VDM0CN . . . . . . . .  D ADDR   00FFH   A      154#
VOLTAGE_REFERENCE_INIT  C ADDR   0112H   A      412#
WAIT_LCD . . . . . . .  C ADDR   01F0H   A      525 559 566 573 583 593 597# 605
WCOL . . . . . . . . .  B ADDR   00F8H.6 A      252#
WRITE_TEXT . . . . . .  C ADDR   01D7H   A      528 530 532 534 577#
XBR0 . . . . . . . . .  D ADDR   00E1H   A      124# 430 454
XBR1 . . . . . . . . .  D ADDR   00E2H   A      125# 431 455
XBR2 . . . . . . . . .  D ADDR   00E3H   A      126#


REGISTER BANK(S) USED: 0 


ASSEMBLY COMPLETE.  0 WARNING(S), 0 ERROR(S)
